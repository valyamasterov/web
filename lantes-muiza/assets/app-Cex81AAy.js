const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./air-datepicker-CxHcPGqG.css"])))=>i.map(i=>d[i]);
(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))x(e);new MutationObserver(e=>{for(const c of e)if(c.type==="childList")for(const p of c.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&x(p)}).observe(document,{childList:!0,subtree:!0});function f(e){const c={};return e.integrity&&(c.integrity=e.integrity),e.referrerPolicy&&(c.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?c.credentials="include":e.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function x(e){if(e.ep)return;e.ep=!0;const c=f(e);fetch(e.href,c)}})();const te={hero_spot_1:{winter:"assets/winter/hero-spot-1-winter.webp",spring:"assets/spring/hero-spot-1-spring.webp",summer:"assets/summer/hero-spot-1-summer.webp",autumn:"assets/autumn/hero-spot-1-autumn.webp"},hero_spot_2:{winter:"assets/winter/hero-spot-2-winter.webm",spring:"assets/spring/hero-spot-2-spring.webm",summer:"assets/summer/hero-spot-2-summer.webm",autumn:"assets/autumn/hero-spot-2-autumn.webm"},hero_spot_3:{winter:"assets/winter/hero-spot-3-winter.webp",spring:"assets/spring/hero-spot-3-spring.webp",summer:"assets/summer/hero-spot-3-summer.webp",autumn:"assets/autumn/hero-spot-3-autumn.webp"},hero_video:{winter:"assets/winter/hero-video-winter.webm",spring:"assets/spring/hero-video-spring.webm",summer:"assets/summer/hero-video-summer.webm",autumn:"assets/autumn/hero-video-autumn.webm"},hero_video_short:{winter:"assets/winter/hero-video-winter-short.webm",spring:"assets/spring/hero-video-spring-short.webm",summer:"assets/summer/hero-video-summer-short.webm",autumn:"assets/autumn/hero-video-autumn-short.webm"},default_bg_1:{winter:"assets/winter/default-bg-1-winter.webp",spring:"assets/spring/default-bg-1-spring.webp",summer:"assets/summer/default-bg-1-summer.webp",autumn:"assets/autumn/default-bg-1-autumn.webp"},home_guesthouse_1:{winter:"assets/winter/home-guesthouse-1-winter.webp",spring:"assets/spring/home-guesthouse-1-spring.webp",summer:"assets/summer/home-guesthouse-1-summer.webp",autumn:"assets/autumn/home-guesthouse-1-autumn.webp"},home_guesthouse_2:{winter:"assets/winter/home-guesthouse-2-winter.webp",spring:"assets/spring/home-guesthouse-2-spring.webp",summer:"assets/summer/home-guesthouse-2-summer.webp",autumn:"assets/autumn/home-guesthouse-2-autumn.webp"},home_guesthouse_3:{winter:"assets/winter/home-guesthouse-3-winter.webp",spring:"assets/spring/home-guesthouse-3-spring.webp",summer:"assets/summer/home-guesthouse-3-summer.webp",autumn:"assets/autumn/home-guesthouse-3-autumn.webp"},home_guesthouse_4:{winter:"assets/winter/home-guesthouse-4-winter.webp",spring:"assets/spring/home-guesthouse-4-spring.webp",summer:"assets/summer/home-guesthouse-4-summer.webp",autumn:"assets/autumn/home-guesthouse-4-autumn.webp"},kaleidoscope_image:{winter:"assets/winter/kaleidoscope-winter.webp",spring:"assets/spring/kaleidoscope-spring.webp",summer:"assets/summer/kaleidoscope-summer.webp",autumn:"assets/autumn/kaleidoscope-autumn.webp"},home_slider_1:{winter:"assets/winter/home-slider-1-winter.webp",spring:"assets/spring/home-slider-1-spring.webp",summer:"assets/summer/home-slider-1-summer.webp",autumn:"assets/autumn/home-slider-1-autumn.webp"},home_slider_2:{winter:"assets/winter/home-slider-2-winter.webp",spring:"assets/spring/home-slider-2-spring.webp",summer:"assets/summer/home-slider-2-summer.webp",autumn:"assets/autumn/home-slider-2-autumn.webp"},mobile_menu_bg:{winter:"assets/winter/mobile-menu-bg-winter.webp",spring:"assets/spring/mobile-menu-bg-spring.webp",summer:"assets/summer/mobile-menu-bg-summer.webp",autumn:"assets/autumn/mobile-menu-bg-autumn.webp"},default_bg_2:{winter:"assets/winter/default-bg-2-winter.webp",spring:"assets/spring/default-bg-2-spring.webp",summer:"assets/summer/default-bg-2-summer.webp",autumn:"assets/autumn/default-bg-2-autumn.webp"},about_main:{winter:"assets/summer/about-main-summer.webm",spring:"assets/summer/about-main-summer.webm",summer:"assets/summer/about-main-summer.webm",autumn:"assets/summer/about-main-summer.webm"},guesthouse_1:{winter:"assets/winter/home-guesthouse-4-winter.webp",spring:"assets/spring/home-guesthouse-4-spring.webp",summer:"assets/summer/home-guesthouse-4-summer.webp",autumn:"assets/autumn/home-guesthouse-4-autumn.webp"},guesthouse_2:{winter:"assets/winter/home-guesthouse-4-winter.webp",spring:"assets/spring/home-guesthouse-4-spring.webp",summer:"assets/summer/home-guesthouse-4-summer.webp",autumn:"assets/autumn/home-guesthouse-4-autumn.webp"},guesthouse_3:{winter:"assets/winter/home-guesthouse-4-winter.webp",spring:"assets/spring/home-guesthouse-4-spring.webp",summer:"assets/summer/home-guesthouse-4-summer.webp",autumn:"assets/autumn/home-guesthouse-4-autumn.webp"},guesthouse_4:{winter:"assets/winter/home-guesthouse-4-winter.webp",spring:"assets/spring/home-guesthouse-4-spring.webp",summer:"assets/summer/home-guesthouse-4-summer.webp",autumn:"assets/autumn/home-guesthouse-4-autumn.webp"}};function se(l,r){var f;return((f=te[l])==null?void 0:f[r])||null}const z={};function ne(l,r){if(z[l]){r(z[l]);return}const f=document.createElement("video");f.preload="metadata",f.muted=!0,f.playsInline=!0;let x=!1;f.addEventListener("loadedmetadata",()=>{f.videoWidth>0&&f.videoHeight>0&&(f.currentTime=.1)},{once:!0}),f.addEventListener("seeked",()=>{if(x)return;x=!0;const e=document.createElement("canvas");e.width=f.videoWidth,e.height=f.videoHeight,e.getContext("2d").drawImage(f,0,0,e.width,e.height);const p=e.toDataURL("image/webp");z[l]=p,r(p)},{once:!0}),f.addEventListener("error",()=>{r(null)},{once:!0}),f.src=l}window.getMediaPath=se;window.generateVideoPoster=ne;window.videoPosterCache=z;function W(l){const f={Ziema:"winter",Pavasaris:"spring",Vasara:"summer",Rudens:"autumn"}[l];if(!f)return;const x=document.querySelectorAll("[data-media-position]");x.forEach(e=>{e.classList.add("fade-out")}),setTimeout(()=>{x.forEach(e=>{const c=e.getAttribute("data-media-position"),p=getMediaPath(c,f);if(p)if(e.tagName==="VIDEO"){if(c==="hero_video"&&typeof window.loadHeroVideo=="function"){window.loadHeroVideo(e,f);return}const m=()=>{e.loop=!0,e.src=p,e.load(),e.addEventListener("loadeddata",()=>{e.play().catch(()=>{})},{once:!0})};videoPosterCache[p]?(e.poster=videoPosterCache[p],e.classList.remove("fade-out"),m()):generateVideoPoster(p,o=>{o&&(e.poster=o),e.classList.remove("fade-out"),m()})}else e.tagName==="IMG"&&(e.addEventListener("load",()=>{e.classList.remove("fade-out")},{once:!0}),e.src=p)})},400)}function Z(l){const f=(window.seasonColors||{Ziema:"#56717F",Pavasaris:"#9C722A",Vasara:"#6E8073",Rudens:"#994732"})[l];if(f){document.documentElement.style.setProperty("--accent-color",f),localStorage.setItem("selectedSeason",l),W(l);const x={Ziema:"winter",Pavasaris:"spring",Vasara:"summer",Rudens:"autumn"};window.dispatchEvent(new CustomEvent("seasonChange",{detail:{seasonFolder:x[l]}}))}}window.loadSeasonMedia=W;window.setSeason=Z;window.addEventListener("DOMContentLoaded",()=>{const l=localStorage.getItem("selectedSeason")||"Ziema";W(l)});document.addEventListener("DOMContentLoaded",()=>{const l=document.getElementById("season-switch"),r=document.getElementById("season-menu"),f=document.querySelectorAll(".season-option");if(!l||!r)return;l.addEventListener("click",()=>{r.classList.toggle("translate-x-full")}),f.forEach(o=>{o.addEventListener("click",()=>{const h=o.textContent.trim();Z(h),r.classList.add("translate-x-full")})}),document.addEventListener("DOMContentLoaded",function(){const o=window.location.pathname,h=o.split("/").pop()||"index.html";document.querySelectorAll(".nav-link").forEach(S=>{const u=S.getAttribute("href");if(u&&u!=="#"){const s=u.startsWith("/")?u.substring(1):u;(h===s||h===""&&s==="index.html"||o==="/"&&s==="index.html")&&S.classList.add("active")}})}),document.addEventListener("click",o=>{!l.contains(o.target)&&!r.contains(o.target)&&r.classList.add("translate-x-full")});const x=document.getElementById("mobile-menu-button"),e=document.getElementById("mobile-menu-modal"),c=document.getElementById("mobile-menu-close");function p(){const o=e.querySelector('img[data-media-position="mobile_menu_bg"]');if(o&&!o.src){const h=localStorage.getItem("selectedSeason")||"Ziema",S={Ziema:"winter",Pavasaris:"spring",Vasara:"summer",Rudens:"autumn"}[h]||"winter",u=getMediaPath("mobile_menu_bg",S);u&&(o.src=u)}document.body.classList.add("menu-open"),e.classList.remove("hidden"),e.classList.add("flex"),e.offsetHeight,e.classList.add("menu-open"),e.classList.remove("menu-closing"),document.body.style.overflow="hidden"}function m(){const o=e.querySelector('img[data-media-position="mobile_menu_bg"]'),h=e.querySelector("#mobile-menu-overlay"),d=e.querySelector(".mobile-menu-content"),S=e.querySelector("#mobile-menu-close");h&&(h.style.opacity="1"),o&&(o.style.opacity="0.7"),d&&(d.style.opacity="1"),S&&(S.style.opacity="1"),e.classList.remove("menu-open"),e.classList.add("menu-closing"),setTimeout(()=>{document.body.classList.remove("menu-open");const u=document.getElementById("mobile-menu-button");u&&(u.style.pointerEvents="auto")},300),setTimeout(()=>{e.classList.add("hidden"),e.classList.remove("flex","menu-closing"),document.body.style.overflow="",o&&(o.style.animation="none",o.style.opacity="0",o.offsetHeight,o.style.animation=""),h&&(h.style.animation="none",h.style.opacity="0",h.offsetHeight,h.style.animation=""),d&&(d.style.animation="none",d.style.opacity="0",d.offsetHeight,d.style.animation=""),S&&(S.style.animation="none",S.style.opacity="0",S.offsetHeight,S.style.animation="")},300)}x&&e&&c&&(x.addEventListener("click",()=>{p()}),c.addEventListener("click",o=>{o.stopPropagation(),m()}),e.addEventListener("click",o=>{o.target===e&&m()}))});(function(){const l=document.getElementById("logo-parallax");if(!l)return;let r=null,f=0;const x=()=>{r=null,l.style.transform=`translate3d(0, ${f}px, 0)`},e=()=>{f=(window.scrollY||window.pageYOffset||0)*.5,r==null&&(r=requestAnimationFrame(x))};window.addEventListener("scroll",e,{passive:!0}),e()})();document.addEventListener("DOMContentLoaded",()=>{const l=document.querySelector(".slider");if(!l)return;const r=l.querySelector(".slider-track"),f=l.querySelectorAll(".slide-container"),x=document.querySelector(".slider-arrow.left"),e=document.querySelector(".slider-arrow.right"),c=document.getElementById("slider-rotor");let p=0,m=null,o=0,h=null;function d(v){if(!v||v==="none")return 0;const E=v.match(/matrix(3d)?\((.+)\)/);if(!E)return 0;const T=!!E[1],P=E[2].split(",").map(F=>parseFloat(F.trim()));return T?P[12]||0:P[4]||0}function S(){const v=window.getComputedStyle(r).transform,E=d(v);f.forEach((T,P)=>{const F=T.querySelector(".slide-img"),$=T.offsetWidth,B=-((P*$+E)/$)*12,R=Math.max(-12,Math.min(12,B));F.style.setProperty("--parallax-x",`${R}%`)})}function u(){const v=window.getComputedStyle(r).transform;return d(v)}function s(v){r.style.transform=`translateX(${v}px)`}function i(v){return v<.5?4*v*v*v:1-Math.pow(-2*v+2,3)/2}function t(v){if(v<0||v>=f.length)return;m&&(cancelAnimationFrame(m),m=null);const E=l.clientWidth,T=u(),P=-(v*E),$=Math.abs(P-T)/Math.max(1,E),D=Math.max(400,1400*$),B=performance.now();h=B;const Y=P<T?1:-1,H=.05;function N(X){const G=Math.min(1,(X-B)/D),K=i(G),Q=T+(P-T)*K;if(s(Q),S(),c){const ee=Math.max(0,X-(h||X));o+=Y*H*ee,c.style.transform=`rotate(${o}deg)`,h=X}G<1?m=requestAnimationFrame(N):(m=null,p=v,y(),S(),h=null)}p=v,y(),m=requestAnimationFrame(N)}function y(){x.disabled=p===0,e.disabled=p===f.length-1}x.addEventListener("click",()=>t(p-1)),e.addEventListener("click",()=>t(p+1));let g=0,n=0,a=0,w=0,b=!1,M=0,A=0;function C(v){g=v.touches[0].clientX,n=v.touches[0].clientY,b=!0,M=g,A=u(),m&&(cancelAnimationFrame(m),m=null)}function q(v){if(!b)return;const E=v.touches[0].clientX,T=v.touches[0].clientY,P=E-M,F=T-n,$=l.clientWidth,_=A+P;Math.abs(P)>Math.abs(F)&&v.preventDefault();const D=-(f.length-1)*$,R=Math.max(D,Math.min(0,_));s(R),S()}function L(v){b&&(b=!1,t(p))}function O(v){if(!b)return;a=v.changedTouches[0].clientX,w=v.changedTouches[0].clientY;const E=a-g,T=w-n,P=l.clientWidth,F=50,$=P*.3;if(b=!1,Math.abs(E)>Math.abs(T)&&Math.abs(E)>F){const _=u(),D=Math.round(-_/P),B=Math.max(0,Math.min(f.length-1,D));if(Math.abs(E)>$)if(E>0){const R=Math.max(0,B-1);t(R)}else{const R=Math.min(f.length-1,B+1);t(R)}else t(B)}else{const _=u(),D=Math.round(-_/P),B=Math.max(0,Math.min(f.length-1,D));t(B)}}l.addEventListener("touchstart",C,{passive:!0}),l.addEventListener("touchmove",q,{passive:!1}),l.addEventListener("touchend",O,{passive:!0}),l.addEventListener("touchcancel",L,{passive:!0}),r.style.transform="translateX(0px)",S(),y(),window.addEventListener("resize",()=>{const v=l.clientWidth;s(-(p*v)),S()});const k=document.querySelector(".slider-arrows"),I=c==null?void 0:c.parentElement;if(k&&x&&e&&I){I.style.opacity="0",I.style.transform="scale(0.2)",I.style.transition="opacity 0.8s cubic-bezier(0.4, 0, 0.2, 1), transform 0.8s cubic-bezier(0.4, 0, 0.2, 1)";const v=2.5;x.style.opacity="0",x.style.transform=`translateX(${v}rem)`,x.style.transition="opacity 0.8s cubic-bezier(0.4, 0, 0.2, 1), transform 0.8s cubic-bezier(0.4, 0, 0.2, 1)",e.style.opacity="0",e.style.transform=`translateX(-${v}rem)`,e.style.transition="opacity 0.8s cubic-bezier(0.4, 0, 0.2, 1), transform 0.8s cubic-bezier(0.4, 0, 0.2, 1)";const E=new IntersectionObserver(T=>{T.forEach(P=>{P.isIntersecting&&!P.target.dataset.animated&&(P.target.dataset.animated="true",requestAnimationFrame(()=>{I.style.opacity="1",I.style.transform="scale(1)"}),requestAnimationFrame(()=>{x.style.opacity="1",x.style.transform="translateX(0)",e.style.opacity="1",e.style.transform="translateX(0)"}),E.unobserve(P.target))})},{root:null,rootMargin:"0px",threshold:.3});E.observe(k)}});function U(){const l=document.getElementById("kaleidoscope-canvas");if(!l)return;const r=l.getContext("2d",{alpha:!1}),f=l.parentElement;let x,e,c,p;function m(){const L=f.getBoundingClientRect();x=l.width=L.width,e=l.height=L.height,c=x/2,p=e/2}m();const o=Math.PI,h=Math.sin,d=Math.cos,S=Math.tan,u=o/6,s=200,i=s*S(u);let t,y,g={x:0,y:0},n=!1,a=1,w=1,b=.05;window.addEventListener("resize",m);function M(L){const O=new Image;O.crossOrigin="anonymous",O.src=getMediaPath("kaleidoscope_image",L),w=0,O.onload=function(){setTimeout(()=>{t=O,y=r.createPattern(t,"repeat"),a=0,w=1,n||(n=!0,C())},400)}}function A(){M(window.currentSeasonFolder)}function C(){a!==w&&(a<w?a=Math.min(a+b,w):a=Math.max(a-b,w)),r.clearRect(0,0,x,e),r.globalAlpha=a;for(let L=0;(L-1)*s<p;L++)for(let O=0;(O-1)*i<c;O++){let k=o/3;k=[0,5*k,2*k,3*k,4*k,k];let I=[0,-i,i,0,-i,i],v=[0,0,s,s,s,0],E=(L%2==0?O:O+3)%6,T=O*i,P=L*s;L*s<p&&(q(c+T+I[E],p+P+v[E],1,k[E]),q(c+T+I[E],p+P+v[E],-1,k[E])),O!=0&&(q(c-I[E]-T,p+v[E]+P,1,-k[E]),q(c-I[E]-T,p+v[E]+P,-1,-k[E])),L!=0&&(q(c+T+I[E],p-P+v[E],1,k[E]),q(c+T+I[E],p-P+v[E],-1,k[E])),L!=0&&O!=0&&(q(c-T-I[E],p-P+v[E],1,-k[E]),q(c-T-I[E],p-P+v[E],-1,-k[E]))}r.globalAlpha=1,t&&(g.x=(g.x-1*h(u/2))%t.width,g.y=(g.y-1*d(u/2))%t.height),requestAnimationFrame(C)}function q(L,O,k,I){r.translate(L,O),r.rotate(I),r.scale(k,1),r.translate(g.x,g.y),r.beginPath(),r.moveTo(0-g.x,0-g.y),r.lineTo(0-g.x,s-g.y),r.lineTo(i-g.x,s-g.y),r.lineTo(0-g.x,0-g.y),r.fillStyle=y,r.fill(),r.setTransform(1,0,0,1,0,0)}window.addEventListener("seasonChange",L=>{L.detail&&L.detail.seasonFolder&&M(L.detail.seasonFolder)}),A()}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",U):U();document.addEventListener("DOMContentLoaded",()=>{const l=document.querySelectorAll(".guesthouse-btn"),r=Array.from(document.querySelectorAll(".guesthouse-slide-container")),f=document.querySelector(".guesthouse-indicator");let x=null,e=0,c=0,p=0,m=0,o=0;const h=900;let d=0;const S=15;function u(n){return n<.5?4*n*n*n:1-Math.pow(-2*n+2,3)/2}function s(n,a,w){const b=`inset(0 ${w}% 0 ${a}%)`;n.style.clipPath=b,n.style.webkitClipPath=b}function i(){const n=document.querySelector(".guesthouse-btn.active");if(n&&f){const w=n.querySelector("span").getBoundingClientRect(),b=f.parentElement.getBoundingClientRect(),M=f.offsetHeight,C=w.top-b.top+w.height/2-M/2;f.style.top=`${C}px`}}i(),window.addEventListener("resize",i);function t(n,a){const w=Math.max(0,Math.min(r.length-1,n)),b=Math.floor(w),M=w-b;if(M===0){r.forEach((I,v)=>{const E=I.querySelector(".guesthouse-slide-img");v===b?(s(I,0,0),I.style.zIndex="2",E.style.transform="translateX(0)"):(s(I,0,100),I.style.zIndex="1",E.style.transform="translateX(0)")});return}const A=a>=0,C=A?b:b+1,q=A?b+1:b,L=A?M:1-M;r.forEach((I,v)=>{I.style.zIndex=v===q?"3":v===C?"2":"1"}),s(r[C],0,0),A?s(r[q],0,(1-L)*100):s(r[q],(1-L)*100,0);const O=r[C].querySelector(".guesthouse-slide-img"),k=r[q].querySelector(".guesthouse-slide-img");O.style.transform=`translateX(${(A?1:-1)*S*L}%)`,k.style.transform=`translateX(${(A?-1:1)*S*(1-L)}%)`,r.forEach((I,v)=>{if(v!==C&&v!==q){const E=I.querySelector(".guesthouse-slide-img");s(I,0,100),E.style.transform="translateX(0)"}})}function y(){x&&cancelAnimationFrame(x);const n=Math.abs(c-p);o=Math.max(300,h*n),m=performance.now();function a(w){const b=Math.min(1,(w-m)/o),M=u(b),A=p+(c-p)*M,C=Math.sign(c-p)||Math.sign(A-d)||1;t(A,C),e=A,d=A,b<1&&Math.abs(c-e)>1e-4?x=requestAnimationFrame(a):(e=Math.round(e),t(e,C),x=null)}x=requestAnimationFrame(a)}function g(n){n<0||n>=r.length||(p=e,c=n,y())}l.forEach(n=>{n.addEventListener("click",()=>{const a=parseInt(n.getAttribute("data-slide-target"));if(Number.isNaN(a)||a===Math.round(e))return;const w=n.querySelector("span");if(w){const b=w.getBoundingClientRect(),M=f.parentElement.getBoundingClientRect(),A=f.offsetHeight,q=b.top-M.top+b.height/2-A/2;f.style.top=`${q}px`}l.forEach(b=>b.classList.remove("active")),n.classList.add("active"),g(a)})}),e=0,c=0,t(0,1)});document.addEventListener("DOMContentLoaded",()=>{if(window.matchMedia&&window.matchMedia("(prefers-reduced-motion: reduce)").matches)return;document.querySelectorAll("[data-marquee]").forEach(oe)});function oe(l){const r=l.querySelector(".marquee-track");if(!r)return;const f=r.querySelector(".marquee-content")||r.firstElementChild;if(!f)return;const x=parseFloat(l.getAttribute("data-marquee-speed"))||60,c=(l.getAttribute("data-marquee-direction")||"left").toLowerCase()==="right"?1:-1,p=l.getAttribute("data-marquee-gap");let m=!1,o=null,h=null,d=0,S=0,u=0,s=0;f.classList.add("marquee-content");function i(){Array.from(r.children).forEach((w,b)=>{b!==0&&w.remove()})}function t(){i(),S=f.getBoundingClientRect().width;const w=parseFloat(getComputedStyle(r).gap||getComputedStyle(r).columnGap||"0")||0;if(s=p!=null?parseFloat(p)||0:w,p!=null&&(r.style.gap=`${s}px`),u=S+s,!S)return;const b=l.getBoundingClientRect().width*2+u;let M=u;for(;M<b;){const A=f.cloneNode(!0);if(r.appendChild(A),M+=u,r.children.length>20)break}}function y(){if(u)if(c<0){for(;d<=-u;)d+=u;for(;d>0;)d-=u}else{for(;d>=u;)d-=u;for(;d<0;)d+=u}}function g(w){h||(h=w);const b=Math.min(64,w-h);h=w;const M=m?x/2:x;d+=c*(M*b/1e3),y(),r.style.transform=`translateX(${d}px)`,o=requestAnimationFrame(g)}function n(){o&&cancelAnimationFrame(o),o=requestAnimationFrame(g)}function a(){const w=S;t(),w&&S&&Math.abs(w-S)>1&&(y(),r.style.transform=`translateX(${d}px)`)}l.addEventListener("pointerenter",()=>{m=!0}),l.addEventListener("pointerleave",()=>{m=!1}),document.readyState==="complete"?(a(),n()):window.addEventListener("load",()=>{a(),n()},{once:!0}),window.ResizeObserver?new ResizeObserver(()=>a()).observe(l):window.addEventListener("resize",a)}document.addEventListener("DOMContentLoaded",()=>{const l=document.querySelectorAll(".typewriter");if(l.length===0)return;const r={root:null,rootMargin:"0px",threshold:.3},f=new IntersectionObserver(e=>{e.forEach(c=>{c.isIntersecting&&!c.target.dataset.typing&&(c.target.dataset.typing="true",x(c.target),f.unobserve(c.target))})},r);function x(e){let c=e.dataset.originalText||e.textContent.trim();e.dataset.originalText||(e.dataset.originalText=c);const p=parseInt(e.dataset.typewriterSpeed)||50,m=parseFloat(e.dataset.typewriterBlur)||5,o=parseInt(e.dataset.typewriterBlurRange)||25;let h="currentColor";try{const a=window.getComputedStyle(e).color;a&&a!=="rgba(0, 0, 0, 0)"&&a!=="transparent"&&(h=a)}catch{h="currentColor"}function d(n){if(!n||n==="currentColor")return null;const a=n.match(/rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*[\d.]+)?\)/);if(a)return{r:a[1],g:a[2],b:a[3]};const w=n.match(/#([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})/);return w?{r:parseInt(w[1],16),g:parseInt(w[2],16),b:parseInt(w[3],16)}:null}const S=d(h);e.textContent="",e.style.visibility="visible",e.style.filter="",e.style.opacity="";const u=c.split(/(\s+)/),s=[];u.forEach(n=>{if(n.trim()===""){const a=document.createElement("span");a.textContent=n,a.style.display="inline",e.appendChild(a)}else{const a=document.createElement("span");a.style.display="inline-block",a.style.whiteSpace="nowrap",e.appendChild(a),n.split("").forEach(b=>{const M=document.createElement("span");M.textContent=b,M.style.display="inline-block",M.style.transform="translateY(10%)",M.style.transition="transform 0.3s cubic-bezier(0.4, 0, 0.2, 1)",M.style.filter="blur(0px)",M.style.opacity="0",M.style.textShadow="none",a.appendChild(M),s.push(M)})}});let i=0;function t(){s.forEach((n,a)=>{if(a<i){const w=i-a-1;if(w<o){const b=w/o,M=1-Math.pow(1-b,3),A=Math.max(0,m*(1-M)),C=M;n.style.filter=`blur(${A}px)`,n.style.opacity="1";const q=1-C,L=4+q*8;if(S){const O=.15+q*.25,k=.1+q*.15,I=.05+q*.1;n.style.textShadow=`0 0 ${L}px rgba(${S.r}, ${S.g}, ${S.b}, ${O}), 0 0 ${L*1.5}px rgba(${S.r}, ${S.g}, ${S.b}, ${k}), 0 0 ${L*2}px rgba(${S.r}, ${S.g}, ${S.b}, ${I})`}else n.style.textShadow=`0 0 ${L}px ${h}`}else n.style.filter="blur(0px)",n.style.opacity="1",n.style.textShadow="none"}else n.style.filter="blur(0px)",n.style.opacity="0",n.style.textShadow="none"})}function y(){if(i<s.length){const n=s[i];i++,n.style.transform="translateY(0)",t(),setTimeout(y,p)}else g()}function g(){i<s.length+o?(i++,t(),setTimeout(g,p*.6)):(s.forEach(n=>{n.style.filter="blur(0px)",n.style.opacity="1",n.style.transform="translateY(0)",n.style.textShadow="none"}),e.dataset.typed="true",e.dataset.typing="false")}y()}l.forEach(e=>{e.style.visibility="",e.style.filter="",e.style.opacity="",delete e.dataset.typing,delete e.dataset.typed,e.dataset.originalText||(e.dataset.originalText=e.textContent.trim()),f.observe(e)})});function re(l,r){const f=getMediaPath("hero_video_short",r),x=getMediaPath("hero_video",r);if(!f||!x)return;let e=l,c=null;if(l.tagName!=="VIDEO")e=l.querySelector("video:not([data-full-video])"),c=l;else{const o=l.parentNode;o&&o.querySelector('video[data-full-video="true"]')&&(c=o)}if(c&&e){p(e,c,f,x);return}videoPosterCache[f]?(e.poster=videoPosterCache[f],e.classList.remove("fade-out"),m()):generateVideoPoster(f,o=>{o&&(e.poster=o),e.classList.remove("fade-out"),m()});function p(o,h,d,S){const u=h.querySelector('video[data-full-video="true"]');videoPosterCache[d]?(o.poster=videoPosterCache[d],o.classList.remove("fade-out"),h.classList.remove("fade-out"),s()):generateVideoPoster(d,i=>{i&&(o.poster=i),o.classList.remove("fade-out"),h.classList.remove("fade-out"),s()});function s(){if(o.src=d,o.loop=!1,o.removeAttribute("loop"),o.style.zIndex="2",o.currentTime=0,o.load(),u){u.src=S,u.style.zIndex="1",u.load();let i=!1,t=!1;u.addEventListener("loadeddata",()=>{u.currentTime=3},{once:!0}),u.addEventListener("seeked",()=>{i=!0},{once:!0}),o.addEventListener("loadeddata",()=>{o.play().catch(()=>{})},{once:!0});const y=()=>{if(t)return;const g=o.currentTime,n=o.duration,a=n?Math.min(n-.05,2.98):2.98;if(g>=a&&i){t=!0;const w=3+(g-a);u.currentTime=w,u.play().catch(()=>{}),o.style.zIndex="1",u.style.zIndex="2",setTimeout(()=>{o.pause(),o.src=""},500);return}!o.paused&&g<3.5&&requestAnimationFrame(y)};o.addEventListener("playing",()=>{t||requestAnimationFrame(y)}),o.addEventListener("ended",()=>{if(!t){o.pause(),o.currentTime=o.duration-.01,t=!0;const g=3;u.currentTime=g,u.play().catch(()=>{}),o.style.zIndex="1",u.style.zIndex="2",setTimeout(()=>{o.pause(),o.src=""},500)}},{once:!0})}}}function m(){e.loop=!1,e.removeAttribute("loop"),e.src=f,e.load();const o=e.parentNode,h=document.createElement("div");h.className=e.className,h.style.position=e.style.position||"absolute",h.style.inset=e.style.inset||"0",h.style.width="100%",h.style.height="100%",Array.from(e.attributes).forEach(i=>{i.name.startsWith("data-")&&h.setAttribute(i.name,i.value)}),e.className="",e.style.position="",e.style.inset="",o.insertBefore(h,e),h.appendChild(e),e.style.position="absolute",e.style.top="0",e.style.left="0",e.style.width="100%",e.style.height="100%",e.style.objectFit="cover",e.style.zIndex="2";const d=document.createElement("video");d.muted=!0,d.playsInline=!0,d.loop=!0,d.preload="auto",d.style.position="absolute",d.style.top="0",d.style.left="0",d.style.width="100%",d.style.height="100%",d.style.objectFit="cover",d.style.zIndex="1",d.setAttribute("data-full-video","true"),h.appendChild(d),d.src=x,d.load();let S=!1;d.addEventListener("loadeddata",()=>{d.currentTime=3},{once:!0}),d.addEventListener("seeked",()=>{S=!0},{once:!0}),e.addEventListener("loadeddata",()=>{e.play().catch(()=>{})},{once:!0});let u=!1;const s=()=>{if(u)return;const i=e.currentTime,t=e.duration,y=t?Math.min(t-.05,2.98):2.98;if(i>=y&&S){u=!0;const g=3+(i-y);d.currentTime=g,d.play().catch(()=>{}),e.style.zIndex="1",d.style.zIndex="2",setTimeout(()=>{e.pause(),e.src="",e.remove()},500);return}!e.paused&&i<3.5&&requestAnimationFrame(s)};e.addEventListener("playing",()=>{u||requestAnimationFrame(s)}),e.addEventListener("ended",()=>{if(!u){e.pause(),e.currentTime=e.duration-.01,u=!0;const i=3;d.currentTime=i,d.play().catch(()=>{}),e.style.zIndex="1",d.style.zIndex="2",setTimeout(()=>{e.pause(),e.src="",e.remove()},500)}},{once:!0})}}window.loadHeroVideo=re;window.addEventListener("scroll",()=>{const l=document.querySelectorAll(".hero-text");if(l.length===0)return;const r=window.pageYOffset,f=.1;l.forEach(x=>{x.style.transform=`translateY(-${r*f}px)`})});function V(){const l=document.querySelectorAll(".gallery-card"),r=document.getElementById("gallery-modal"),f=document.getElementById("gallery-modal-close"),x=document.getElementById("gallery-modal-backdrop");if(!r||l.length===0)return;function e(){r.classList.remove("hidden"),r.classList.add("flex"),document.body.style.overflow="hidden"}function c(){r.classList.add("hidden"),r.classList.remove("flex"),document.body.style.overflow=""}l.forEach(p=>{p.addEventListener("click",m=>{e()})}),f&&f.addEventListener("click",c),x&&x.addEventListener("click",p=>{p.target===x&&c()}),document.addEventListener("keydown",p=>{p.key==="Escape"&&!r.classList.contains("hidden")&&c()})}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",V):V();const ae="modulepreload",ie=function(l,r){return new URL(l,r).href},j={},J=function(r,f,x){let e=Promise.resolve();if(f&&f.length>0){const p=document.getElementsByTagName("link"),m=document.querySelector("meta[property=csp-nonce]"),o=(m==null?void 0:m.nonce)||(m==null?void 0:m.getAttribute("nonce"));e=Promise.allSettled(f.map(h=>{if(h=ie(h,x),h in j)return;j[h]=!0;const d=h.endsWith(".css"),S=d?'[rel="stylesheet"]':"";if(!!x)for(let i=p.length-1;i>=0;i--){const t=p[i];if(t.href===h&&(!d||t.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${h}"]${S}`))return;const s=document.createElement("link");if(s.rel=d?"stylesheet":ae,d||(s.as="script"),s.crossOrigin="",s.href=h,o&&s.setAttribute("nonce",o),document.head.appendChild(s),d)return new Promise((i,t)=>{s.addEventListener("load",i),s.addEventListener("error",()=>t(new Error(`Unable to preload CSS for ${h}`)))})}))}function c(p){const m=new Event("vite:preloadError",{cancelable:!0});if(m.payload=p,window.dispatchEvent(m),!m.defaultPrevented)throw p}return e.then(p=>{for(const m of p||[])m.status==="rejected"&&c(m.reason);return r().catch(c)})};document.addEventListener("DOMContentLoaded",()=>{const l=document.getElementById("guesthouse-hero-image");if(!l)return;let r=2;const f=1,x=1500,e=performance.now();function c(u){const s=u-e,i=Math.min(s/x,1),t=1-Math.pow(1-i,3);r=2+(f-2)*t,l.style.setProperty("--scale",r.toString()),i<1&&requestAnimationFrame(c)}requestAnimationFrame(c);function p(){const i=(window.pageYOffset||window.scrollY)*.25;l.style.setProperty("--parallax-offset",`${i}px`)}window.addEventListener("scroll",p,{passive:!0}),p();const m=document.getElementById("section-bg-image");if(m){let s=function(){if(!u)return;const i=window.pageYOffset||window.scrollY,t=u.offsetTop,g=(i-t)*.5;m.style.setProperty("--parallax-offset",`${g}px`)};const u=m.closest("section");window.addEventListener("scroll",s,{passive:!0}),s()}const o=document.querySelector(".hero-text");if(o){let t=function(){const a=Date.now()-s;if(a<0)return 20;if(a<i){const w=a/i;return 20*(1-(1-Math.pow(1-w,3)))}else return 0},y=function(){const a=-(window.pageYOffset||window.scrollY)*.1,w=t();o.style.transform=`translateX(${w}%) translateY(calc(-50% + ${a}px))`};const s=Date.now()+1e3,i=1e3;y();const g=()=>{y(),requestAnimationFrame(g)};requestAnimationFrame(g),window.addEventListener("scroll",()=>{},{passive:!0})}const h=document.getElementById("slider-rotor");if(h){let i=function(){const t=window.pageYOffset||window.scrollY,y=t-s;u+=y*.5,h.style.transform=`rotate(${u}deg)`,h.style.transformOrigin="center center",s=t},u=0,s=window.pageYOffset||window.scrollY;window.addEventListener("scroll",i,{passive:!0})}const d=document.querySelector(".scroll-fade-text");if(d){d.querySelectorAll(".scroll-fade-line").forEach((i,t)=>{i.style.transitionDelay=`${(t+1)*.1}s`});const s=new IntersectionObserver(i=>{i.forEach(t=>{t.isIntersecting&&(t.target.classList.add("animate"),s.unobserve(t.target))})},{root:null,rootMargin:"0px",threshold:.3});s.observe(d)}if(!(window.matchMedia&&window.matchMedia("(prefers-reduced-motion: reduce)").matches)){let u=function(t,y){const g=t.querySelector(".scroll-marquee-track"),n=g&&g.querySelector(".scroll-marquee-base");if(!g||!n)return;let a=0,w=0,b=0,M=0,A=window.pageYOffset||window.scrollY||0,C=!1,q=null;function L(){if(Array.from(g.children).forEach(T=>{T!==n&&T.remove()}),a=n.getBoundingClientRect().width,!a)return;const v=window.innerWidth,E=Math.ceil(v/a)+4;for(let T=0;T<E;T++){const P=n.cloneNode(!0);g.insertBefore(P,n)}for(let T=0;T<E;T++){const P=n.cloneNode(!0);g.appendChild(P)}w=-a*E,b=0,M=0,g.style.transform=`translateX(${w}px)`}function O(){const I=M-b;Math.abs(I)>.01?(b+=I*.15,b>a?(b-=a,M-=a):b<-a&&(b+=a,M+=a),g.style.transform=`translateX(${w+b}px)`,q=requestAnimationFrame(O)):(b=M,g.style.transform=`translateX(${w+b}px)`,q=null)}function k(){C||(C=!0,requestAnimationFrame(()=>{C=!1;const I=window.pageYOffset||window.scrollY||0,v=I-A;Math.abs(v)<.1||(A=I,M+=y*v*.15,M>a?M-=a:M<-a&&(M+=a),q||(q=requestAnimationFrame(O)))}))}document.readyState==="complete"?L():window.addEventListener("load",L,{once:!0}),window.ResizeObserver?new ResizeObserver(()=>{L()}).observe(t):window.addEventListener("resize",L),window.addEventListener("scroll",k,{passive:!0})};const s=document.querySelector('[data-scroll-marquee-row="top"]');s&&u(s,-1);const i=document.querySelector('[data-scroll-marquee-row="bottom"]');i&&u(i,1)}(async function(){const u=document.getElementById("reservation-button"),s=document.getElementById("reservation-modal"),i=document.getElementById("reservation-modal-close"),t=document.getElementById("reservation-modal-backdrop"),y=document.getElementById("date-range"),g=document.getElementById("reservation-modal-content");if(!u||!s)return;const n=(await J(async()=>{const{default:q}=await import("./index.es-169Zlps9.js");return{default:q}},[],import.meta.url)).default;await J(()=>Promise.resolve({}),__vite__mapDeps([0]),import.meta.url);const a={days:["Svētdiena","Pirmdiena","Otrdiena","Trešdiena","Ceturtdiena","Piektdiena","Sestdiena"],daysShort:["Sv","Pr","Ot","Tr","Ce","Pk","Se"],daysMin:["Sv","Pr","Ot","Tr","Ce","Pk","Se"],months:["Janvāris","Februāris","Marts","Aprīlis","Maijs","Jūnijs","Jūlijs","Augusts","Septembris","Oktobris","Novembris","Decembris"],monthsShort:["Jan","Feb","Mar","Apr","Mai","Jūn","Jūl","Aug","Sep","Okt","Nov","Dec"],today:"Šodien",clear:"Notīrīt",dateFormat:"yyyy-MM-dd",timeFormat:"HH:mm",firstDay:1};let w=null;function b(){!w&&y&&(w=new n(y,{inline:!0,range:!0,locale:a,minDate:new Date,view:"days",minView:"days",dateFormat:"yyyy-MM-dd",navTitles:{days:q=>{const L=a.months,O=q.viewDate||q.selectedDates[0]||new Date,k=L[O.getMonth()],I=O.getFullYear();return`${k}, ${I}`}},onSelect:function({date:q}){w&&(w.view="days")}}))}function M(){const q=g==null?void 0:g.querySelector('img[data-media-position="default_bg_1"]');if(g&&q){const L=g.scrollHeight;q.style.height=`${L}px`}}function A(q){q.preventDefault(),s.classList.remove("hidden","modal-closing"),s.classList.add("flex","modal-opening"),document.body.style.overflow="hidden",setTimeout(()=>{b(),M();const L=()=>M();window.addEventListener("resize",L);const O=new MutationObserver(()=>{M()});g&&O.observe(g,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["style","class"]})},100)}function C(){s.classList.remove("modal-opening"),s.classList.add("modal-closing"),setTimeout(()=>{s.classList.add("hidden"),s.classList.remove("flex","modal-closing"),document.body.style.overflow=""},300)}u.addEventListener("click",A),i&&i.addEventListener("click",C),s.addEventListener("click",q=>{const L=document.getElementById("reservation-modal-content");(q.target===t||L&&!L.contains(q.target)&&q.target!==i)&&C()}),document.addEventListener("keydown",q=>{q.key==="Escape"&&!s.classList.contains("hidden")&&C()})})()});document.addEventListener("DOMContentLoaded",()=>{const l=document.getElementById("event-hero-image");if(!l)return;let r=2;const f=1,x=1500,e=performance.now();function c(s){const i=s-e,t=Math.min(i/x,1),y=1-Math.pow(1-t,3);r=2+(f-2)*y,l.style.setProperty("--scale",r.toString()),t<1&&requestAnimationFrame(c)}requestAnimationFrame(c);function p(){const t=(window.pageYOffset||window.scrollY)*.25;l.style.setProperty("--parallax-offset",`${t}px`)}window.addEventListener("scroll",p,{passive:!0}),p();const m=document.getElementById("section-bg-image");if(m){let i=function(){if(!s)return;const t=window.pageYOffset||window.scrollY,y=s.offsetTop,n=(t-y)*.5;m.style.setProperty("--parallax-offset",`${n}px`)};const s=m.closest("section");window.addEventListener("scroll",i,{passive:!0}),i()}const o=document.querySelector(".hero-text");if(o){let y=function(){const w=Date.now()-i;if(w<0)return 20;if(w<t){const b=w/t;return 20*(1-(1-Math.pow(1-b,3)))}else return 0},g=function(){const w=-(window.pageYOffset||window.scrollY)*.1,b=y();o.style.transform=`translateX(${b}%) translateY(calc(-50% + ${w}px))`};const i=Date.now()+1e3,t=1e3;g();const n=()=>{g(),requestAnimationFrame(n)};requestAnimationFrame(n),window.addEventListener("scroll",()=>{},{passive:!0})}const h=document.querySelector(".hero-date-text");if(h){let s=function(){const y=-(window.pageYOffset||window.scrollY)*.1;h.style.setProperty("--parallax-y",`${y}px`)};window.addEventListener("scroll",s,{passive:!0}),s()}const d=document.getElementById("slider-rotor");if(d){let t=function(){const y=window.pageYOffset||window.scrollY,g=y-i;s+=g*.5,d.style.transform=`rotate(${s}deg)`,d.style.transformOrigin="center center",i=y},s=0,i=window.pageYOffset||window.scrollY;window.addEventListener("scroll",t,{passive:!0})}const S=document.querySelector(".scroll-fade-text");if(S){S.querySelectorAll(".scroll-fade-line").forEach((t,y)=>{t.style.transitionDelay=`${(y+1)*.1}s`});const i=new IntersectionObserver(t=>{t.forEach(y=>{y.isIntersecting&&(y.target.classList.add("animate"),i.unobserve(y.target))})},{root:null,rootMargin:"0px",threshold:.3});i.observe(S)}if(!(window.matchMedia&&window.matchMedia("(prefers-reduced-motion: reduce)").matches)){let s=function(y,g){const n=y.querySelector(".scroll-marquee-track"),a=n&&n.querySelector(".scroll-marquee-base");if(!n||!a)return;const w=30,b=g==="right"?1:-1;let M=null,A=null,C=0,q=0,L=0,O=0;function k(){Array.from(n.children).forEach(F=>{F!==a&&F.remove()})}function I(){if(k(),q=a.getBoundingClientRect().width,!q)return;O=parseFloat(getComputedStyle(n).gap||getComputedStyle(n).columnGap||"0")||0,L=q+O;const _=y.getBoundingClientRect().width||window.innerWidth,D=_*2+L;let B=L;for(;B<D;){const R=a.cloneNode(!0);if(n.appendChild(R),B+=L,n.children.length>20)break}if(b>0){const R=Math.ceil(_/L)+2;for(let Y=0;Y<R;Y++){const H=a.cloneNode(!0);n.insertBefore(H,a)}C=-L*R}else C=0;n.style.transform=`translateX(${C}px)`}function v(){if(L)if(b<0){for(;C<=-L;)C+=L;for(;C>0;)C-=L}else for(;C>=0;)C-=L}function E(F){A||(A=F);const $=Math.min(64,F-A);A=F,C+=b*(w*$/1e3),v(),n.style.transform=`translateX(${C}px)`,M=requestAnimationFrame(E)}function T(){M&&cancelAnimationFrame(M),A=null,M=requestAnimationFrame(E)}function P(){const F=q;I(),F&&q&&Math.abs(F-q)>1&&(v(),n.style.transform=`translateX(${C}px)`)}document.readyState==="complete"?(P(),T()):window.addEventListener("load",()=>{P(),T()},{once:!0}),window.ResizeObserver?new ResizeObserver(()=>P()).observe(y):window.addEventListener("resize",P)};const i=document.querySelector('[data-scroll-marquee-row="top"]');i&&s(i,"right");const t=document.querySelector('[data-scroll-marquee-row="bottom"]');t&&s(t,"left")}});document.addEventListener("DOMContentLoaded",()=>{const l=document.querySelectorAll(".history-card"),r=document.querySelectorAll(".history-filter-btn");if(l.length===0)return;const f={threshold:.1,rootMargin:"0px 0px 50px 0px"},x=new IntersectionObserver(e=>{e.forEach(c=>{c.isIntersecting&&(c.target.classList.add("animate-in"),x.unobserve(c.target))})},f);l.forEach(e=>{x.observe(e),e.style.height="auto"}),r.length!==0&&(r.forEach(e=>{e.addEventListener("click",()=>{const c=e.getAttribute("data-filter");r.forEach(m=>{m.classList.remove("active","bg-bg","text-accent"),m.classList.add("text-bg");const o=m.querySelector(".checkmark-icon");o&&o.classList.add("hidden")}),e.classList.add("active","bg-bg","text-accent"),e.classList.remove("text-bg");const p=e.querySelector(".checkmark-icon");p&&p.classList.remove("hidden"),l.forEach(m=>{m.classList.remove("animate-in"),x.unobserve(m)}),document.body.offsetHeight,l.forEach(m=>{const o=m.getAttribute("data-category");if(c==="all"||o===c){m.style.height="auto",m.style.overflow="visible";const d=window.matchMedia("(min-width: 1024px)").matches;m.style.marginBottom=d?"6rem":"3rem",x.observe(m)}else m.style.height="0px",m.style.overflow="hidden",m.style.marginBottom="0"})})}),(()=>{const e=document.getElementById("history-modal"),c=document.getElementById("history-modal-close"),p=document.getElementById("history-modal-backdrop"),m=document.getElementById("history-modal-content"),o=document.querySelectorAll(".history-read-more");if(!e)return;function h(){const t=window.location.hash;if(t){const y=t.match(/#(\d+)/);if(y)return y[1]}}function d(t){if(t){const y=`history.html#${t}`;window.history.pushState({historyId:t},"",y)}else window.history.pushState({},"","history.html")}function S(){const t=m==null?void 0:m.querySelector(".history-modal-bg");if(m&&t){const y=m.scrollHeight;t.style.height=`${y}px`}}function u(t,y){y&&y.preventDefault(),d(t),e.classList.remove("hidden","modal-closing"),e.classList.add("flex","modal-opening"),document.body.style.overflow="hidden",setTimeout(()=>{S();const g=()=>S();window.addEventListener("resize",g);const n=new MutationObserver(()=>{S()});m&&n.observe(m,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["style","class"]})},100)}function s(){e.classList.remove("modal-opening"),e.classList.add("modal-closing"),setTimeout(()=>{e.classList.add("hidden"),e.classList.remove("flex","modal-closing"),document.body.style.overflow="",d(null)},300)}o.forEach(t=>{t.addEventListener("click",y=>{var n,a,w,b;const g=t.getAttribute("data-history-id")||((a=(n=t.getAttribute("href"))==null?void 0:n.match(/#(\d+)/))==null?void 0:a[1])||((b=(w=t.getAttribute("href"))==null?void 0:w.match(/\/(\d+)$/))==null?void 0:b[1]);g&&u(g,y)})}),c&&c.addEventListener("click",s),e.addEventListener("click",t=>{(t.target===p||m&&!m.contains(t.target)&&t.target!==c)&&s()}),document.addEventListener("keydown",t=>{t.key==="Escape"&&!e.classList.contains("hidden")&&s()}),window.addEventListener("popstate",t=>{const y=h();y?u(y):s()}),window.addEventListener("hashchange",()=>{const t=h();t?e.classList.contains("hidden")&&u(t):e.classList.contains("hidden")||s()});const i=h();i&&setTimeout(()=>{u(i)},100)})())});
